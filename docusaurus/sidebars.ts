import type {SidebarsConfig} from '@docusaurus/plugin-content-docs';

// Root-level manual ordering to enforce exact top-level order, while still
// autogenerating the contents of each section.
const sidebars: SidebarsConfig = {
  tutorialSidebar: [
    // Landing page
    { type: 'doc', id: 'business-app-docs' },

    // Getting Started doc directly under the landing page
    { type: 'doc', id: 'getting_started_with_business_app' },

    // Sections as explicit categories with autogenerated contents
    {
      type: 'category',
      label: 'Conversations',
      link: { type: 'doc', id: 'conversations/index' },
      items: [{ type: 'autogenerated', dirName: 'conversations' }],
    },
    {
      type: 'category',
      label: 'CRM',
      link: { type: 'doc', id: 'crm/index' },
      items: [{ type: 'autogenerated', dirName: 'crm' }],
    },
    {
      type: 'category',
      label: 'AI',
      link: { type: 'doc', id: 'ai/knowledge-base' },
      items: [{ type: 'autogenerated', dirName: 'ai' }],
    },
    {
      type: 'category',
      label: 'Executive Report',
      link: { type: 'doc', id: 'executivereport/executive_report_overview' },
      items: [{ type: 'autogenerated', dirName: 'executivereport' }],
    },
    {
      type: 'category',
      label: 'Store',
      link: { type: 'doc', id: 'store/index' },
      items: [{ type: 'autogenerated', dirName: 'store' }],
    },
    {
      type: 'category',
      label: 'Automations',
      link: { type: 'doc', id: 'automations/index' },
      items: [{ type: 'autogenerated', dirName: 'automations' }],
    },
    {
      type: 'category',
      label: 'Administration',
      link: { type: 'doc', id: 'administration/index' },
      items: [
        // Top-level docs
        { type: 'doc', id: 'administration/business_profile' },
        { type: 'doc', id: 'administration/conversations-settings' },

        // Subcategories (autogenerated within each folder)
        {
          type: 'category',
          label: 'Connections',
          link: { type: 'generated-index' },
          items: [{ type: 'autogenerated', dirName: 'administration/connections' }],
        },
        {
          type: 'category',
          label: 'CRM Fields',
          link: { type: 'doc', id: 'administration/crm-objects/app_settings_crm_fields' },
          items: [{ type: 'autogenerated', dirName: 'administration/crm-objects' }],
        },
        {
          type: 'category',
          label: 'Score',
          link: { type: 'doc', id: 'administration/score/app_settings_score' },
          items: [{ type: 'autogenerated', dirName: 'administration/score' }],
        },
        { type: 'doc', id: 'administration/settings/email_configuration' },
        { type: 'doc', id: 'administration/settings/sms_configuration' },
        { type: 'doc', id: 'administration/settings/missed_call_text_back' },
        { type: 'doc', id: 'administration/settings/email_history' },
        {
          type: 'category',
          label: 'AI Settings',
          link: { type: 'doc', id: 'administration/ai-settings/ai_settings' },
          items: [{ type: 'autogenerated', dirName: 'administration/ai-settings' }],
        },
      ],
    },
    // Intentionally omit 'overview' so "Home" doesn't appear at top
  ],
};

export default sidebars;
